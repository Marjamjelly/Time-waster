<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Time Waster</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1 id="title">Time Waster</h1>
    <h2 id="subtitle">By Marjamjelly</h2>
  </header>

  <main>
    <div id="time-tracker">
      <div id="seconds">
        <span class="label">Seconds:</span> <span class="value">0</span>
      </div>
    </div>
    <div id="rank">
      <span class="label">Rank:</span> <span class="value" id="rank-value">Beginner</span>
    </div>
    <div id="next-threshold">
      <span class="label">Next Rank:</span> <span class="value" id="threshold-value">10 seconds</span>
    </div>
  </main>

  <footer>
    <a href="https://sites.google.com/view/st-central/home" class="footer-link">Storm Networks</a> |
    <a href="https://snwiki.com" class="footer-link">SN Wiki</a> |
    <a href="https://github.com/Marjamjelly" class="footer-link">My Github</a> |
    <a href="https://marjamjelly.github.io/" class="footer-link">My Personal Site</a> |
  </footer>

  <script>
    let totalSeconds = 0;
    const timeTracker = document.getElementById('time-tracker');
    const rankElement = document.getElementById('rank-value');
    const thresholdElement = document.getElementById('threshold-value');

    // Array to store ranks and their thresholds
    const ranks = [
      { threshold: 1, name: "Junior Beginner" },
      { threshold: 3, name: "Beginner" },
      { threshold: 5, name: "Junior" },
      { threshold: 10, name: "Novice" },
      { threshold: 25, name: "Intermediate" },
      { threshold: 30, name: "Senior" },
      { threshold: 50, name: "Master" },
      { threshold: 60, name: "Minuteman" },
      { threshold: 69, name: "Nice" },
      { threshold: 90, name: "S-tier" },
      { threshold: 120, name: "Pure Beginner" },
      { threshold: 180, name: "Pure Junior" },
      { threshold: 300, name: "Pure Intermediate" },
      { threshold: 420, name: "Pure Senior" },
      { threshold: 600, name: "Pure Master" },
      { threshold: 900, name: "SS-tier"},
      { threshold: 1000, name: "Millennarian" },
      { threshold: 1200, name: "Devoted" },
      { threshold: 1800, name: "Halfway" },
      { threshold: 2000, name: "Duomillennarian" },
      { threshold: 2700, name: "Beginner Time Waster" },
      { threshold: 3000, name: "Trimillennarian" },
      { threshold: 3600, name: "Hourman" },
      { threshold: 5000, name: "Perfect Score" },
      { threshold: 5400, name: "Feature length" },
      { threshold: 6969, name: "Even Nicer" },
      { threshold: 10000, name: "Decimillennarian" },
      { threshold: 18000, name: "Intermediate Time Waster" },
      { threshold: 20000, name: "CEO" },
      { threshold: 25000, name: "Perfet Game" },
      { threshold: 28800, name: "Work Day" },
      { threshold: 30000, name: "Hermit" },
      { threshold: 33333, name: "Third" }, 
      { threshold: 36000, name: "Lord" },
      { threshold: 42069, name: "Nicest" },
      { threshold: 43200, name: "50% Dayman" },
      { threshold: 50000, name: "Perfect x10" },
      { threshold: 60000, name: "Underlord" },
      { threshold: 69420, name: "Even Nicer" },
      { threshold: 70000, name: "Overlord" },
      { threshold: 72000, name: "Time Waster" },
      { threshold: 77777, name: "Gods Number" },
      { threshold: 80000, name: "King" },
      { threshold: 86400, name: "Dayman" },
      { threshold: 88888, name: "Chinese Number" },
      { threshold: 100000, name: "Centamillennial" },
      { threshold: 604800, name: "Weekman" },
      { threshold: 999999, name: "God" },
      { threshold: 6969420, name: "MAXIMUM NICEST" },
      { threshold: 31536000, name: "Pure Time Waster" },
    ];

    // Function to determine the current rank and the next threshold
    function getRankAndThreshold(totalSeconds) {
      let currentRank = "Beginner";
      let nextThreshold = Infinity;

      for (let i = 0; i < ranks.length; i++) {
        if (totalSeconds >= ranks[i].threshold) {
          currentRank = ranks[i].name;
        } else {
          nextThreshold = ranks[i].threshold;
          break;
        }
      }
      return { currentRank, nextThreshold };
    }

    // Function to convert seconds to the largest possible units (e.g., minutes, hours)
    function formatTime(seconds) {
      const days = Math.floor(seconds / 86400);
      const hours = Math.floor((seconds % 86400) / 3600);
      const minutes = Math.floor((seconds % 3600) / 60);
      const remainingSeconds = seconds % 60;

      let formattedTime = [];
      if (days > 0) formattedTime.push(`${days} day${days > 1 ? "s" : ""}`);
      if (hours > 0) formattedTime.push(`${hours} hour${hours > 1 ? "s" : ""}`);
      if (minutes > 0) formattedTime.push(`${minutes} minute${minutes > 1 ? "s" : ""}`);
      if (remainingSeconds > 0 || formattedTime.length === 0) {
        formattedTime.push(`${remainingSeconds} second${remainingSeconds > 1 ? "s" : ""}`);
      }

      return formattedTime.join(" ");
    }

    // Update the rank and next threshold display
    function updateRankAndThreshold() {
      const { currentRank, nextThreshold } = getRankAndThreshold(totalSeconds);
      if (rankElement.textContent !== currentRank) {
        // Add animation for rank change
        rankElement.classList.add("rank-change");
        setTimeout(() => rankElement.classList.remove("rank-change"), 1000);
      }
      rankElement.textContent = currentRank;
      thresholdElement.textContent = formatTime(nextThreshold - totalSeconds);
    }

    // Increment the total seconds and update the display every second
    setInterval(() => {
      totalSeconds++;
      updateTimeCounters();
      updateRankAndThreshold();
    }, 1000);

    // Function to update the time display
    function updateTimeCounters() {
      const seconds = totalSeconds % 60;
      const minutes = Math.floor(totalSeconds / 60) % 60;
      const hours = Math.floor(totalSeconds / 3600) % 24;
      const days = Math.floor(totalSeconds / 86400);

      updateOrCreateCounter("seconds", seconds, "Seconds:");
      if (totalSeconds >= 60) updateOrCreateCounter("minutes", minutes, "Minutes:");
      if (totalSeconds >= 3600) updateOrCreateCounter("hours", hours, "Hours:");
      if (totalSeconds >= 86400) updateOrCreateCounter("days", days, "Days:");
    }

    // Function to update or create a counter dynamically in the DOM
    function updateOrCreateCounter(id, value, label) {
      let element = document.getElementById(id);
      if (!element) {
        element = document.createElement('div');
        element.id = id;
        element.innerHTML = `<span class="label">${label}</span> <span class="value">${value}</span>`;
        timeTracker.appendChild(element);
      } else {
        element.querySelector(".value").textContent = value;
      }
    }
  </script>
</body>
</html>